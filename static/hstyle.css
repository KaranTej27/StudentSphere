/* FINAL CLEAN UI + FIXED PROFILE + PERFECT SIDEBAR */

@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');

:root {
  --accent-a:#7c5cff;
  --accent-b:#9ea2ff;
  --max-w:1200px;
}

/* GLOBAL */
*{ box-sizing:border-box; }
@keyframes rainbow-bg {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

body {
  background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #c2e9fb, #E3FDF5, #FFE6FA, #EACCF8, #8570f2);
  background-size: 400% 400%;
  animation: rainbow-bg 10s ease infinite;
}

/* NAVBAR */
.navbar {
  position: fixed;
  top:0; left:0;
  width:100%;
  height:60px;
  background: rgba(255,255,255,0.25);
  backdrop-filter: blur(15px);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:1000;
}

.brand-center {
  font-size:20px;
  font-weight:700;
}

.menu-toggle {
  position:absolute;
  left:20px;
  background:none;
  border:none;
  font-size:28px;
  font-weight:700;
  cursor:pointer;
}

.nav-actions {
  position:absolute;
  right:20px;
  display:flex;
  align-items:center;
}

.profile img {
  width:40px;
  height:40px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,0.7);
  object-fit:cover;
  transition:.2s ease;
}
.profile img:hover { transform: scale(1.1); }

/* SIDEBAR */
.sidebar {
  position: fixed;
  top:60px;
  left:-260px;
  width:260px;
  height: calc(100% - 60px);
  background: rgba(255,255,255,0.28);
  backdrop-filter: blur(20px);
  border-right: 1px solid rgba(255,255,255,0.4);
  padding-top:20px;
  transition:left .35s ease;
  z-index:200;
  box-shadow: 5px 0 25px rgba(0,0,0,0.15);
}

.sidebar.open { left:0; }
.sidebar.open ~ .main { margin-left:260px; }
.main { transition: margin-left .35s ease; }

.side-nav { display:flex; flex-direction:column; gap:4px; }

.side-link {
  padding:16px 30px;
  font-size:15px;
  color:#052233;
  text-decoration:none;
  font-weight:600;
  transition:.25s ease;
}

.side-link:hover {
  background: rgba(255,255,255,0.5);
  transform: translateX(10px);
}

.side-link.active {
  background: rgba(255,255,255,0.7);
  font-weight:700;
}

/* MAIN */
.main {
  margin-top:80px;
  padding:20px;
  display:flex;
  justify-content:center;
}

.container {
  width:100%;
  max-width: var(--max-w);
  display:flex;
  flex-direction:column;
  gap:20px;
  padding-bottom:40px;
}

/* CARD */
.card {
  background:rgba(255,255,255,0.92);
  border-radius:14px;
  padding:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.06);
}

/* CHAT */
.chat-card { display:flex; flex-direction:column; gap:12px; }

.chat-window {
  background:white;
  padding:14px;
  border-radius:10px;
  max-height:55vh;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.bubble {
  padding:12px 16px;
  border-radius:12px;
  max-width:75%;
}

.bubble.assistant { background:#f5f7fb; }
.bubble.user {
  background:linear-gradient(90deg,var(--accent-a),var(--accent-b));
  color:white;
}

/* COMPOSER */
.composer { display:flex; gap:12px; }

#chatInput {
  flex:1;
  min-height:70px;
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(0,0,0,.1);
}

/* + button */
.icon-btn {
  width:40px; height:40px;
  border-radius:10px;
  border:none;
  background:linear-gradient(90deg,var(--accent-a),var(--accent-b));
  font-size:26px; 
  font-weight:700;
  cursor:pointer;
  color:white;
}

/* Buttons */
.btn {
  padding:10px 16px;
  border:none;
  border-radius:10px;
  font-weight:700;
  color:white;
  background:linear-gradient(90deg,var(--accent-a),var(--accent-b));
  cursor:pointer;
  transition:.25s;
}

.btn:hover {
  transform: scale(1.07);
  box-shadow:0 0 14px rgba(124,92,255,0.35);
}

/* TASKS SECTION */
.tasks-card { display:flex; flex-direction:column; gap:12px; }

.tasks-list { display:flex; flex-direction:column; gap:12px; }

.task-item {
  background:white;
  padding:12px;
  border-radius:10px;
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}

.task-controls {
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}

/* Progress bar */
.progress-track {
  width:180px;
  height:10px;
  background:#e0e3f0;
  border-radius:10px;
}
.progress-fill {
  height:100%;
  background:linear-gradient(90deg,var(--accent-a),var(--accent-b));
}

/* ELEGANT TASK ADD SECTION */
.task-add {
  display:flex;
  gap:14px;
  margin-top:10px;
  padding:14px;
  background: rgba(255,255,255,0.55);
  backdrop-filter: blur(10px);
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.4);
  box-shadow:0 8px 25px rgba(0,0,0,0.08);
  transition:.3s ease;
}

.task-add input[type="text"],
.task-add input[type="date"] {
  flex:1;
  padding:12px 16px;
  border-radius:12px;
  border:2px solid transparent;
  background:white;
  font-weight:600;
  outline:none;
  transition:.25s ease;
  color:#052233;

  background-image: linear-gradient(white, white),
    linear-gradient(90deg, var(--accent-a), var(--accent-b));
  background-origin:border-box;
  background-clip:padding-box, border-box;
}

.task-add input::placeholder {
  font-weight:500;
  color:#8a9bb5;
  opacity:0.8;
}

.task-add input:hover,
.task-add input:focus {
  box-shadow:0 0 14px rgba(124,92,255,0.25);
  transform:translateY(-2px);
}

.task-add input[type="date"]::-webkit-calendar-picker-indicator {
  cursor:pointer;
  filter: invert(40%) sepia(50%) saturate(300%) hue-rotate(220deg);
  opacity:0.9;
  transition:.25s ease;
}

.task-add input[type="date"]::-webkit-calendar-picker-indicator:hover {
  transform:scale(1.15);
  opacity:1;
}
/* ------------------------------
   AI TYPING INDICATOR (3 DOTS)
------------------------------- */

.typing-bubble {
  background:#f5f7fb;
  padding:12px 16px;
  border-radius:12px;
  width:fit-content;
  display:flex;
  align-items:center;
  gap:6px;
  margin:4px 0;
}

.typing-dots {
  display:flex;
  gap:6px;
}

.typing-dots span {
  width:9px;
  height:9px;
  border-radius:50%;
  background:linear-gradient(90deg,var(--accent-a),var(--accent-b));
  opacity:0.3;
  animation: typingDot 1s infinite ease-in-out;
}

.typing-dots span:nth-child(2) {
  animation-delay:0.15s;
}
.typing-dots span:nth-child(3) {
  animation-delay:0.3s;
}

@keyframes typingDot {
  0%   { opacity:0.2; transform: translateY(0); }
  40%  { opacity:1;   transform: translateY(-6px); }
  80%  { opacity:0.4; transform: translateY(0); }
  100% { opacity:0.2; transform: translateY(0); }
}
