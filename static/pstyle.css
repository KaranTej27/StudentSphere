@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap');
*{margin:0;padding:0;box-sizing:border-box;font-family:'Montserrat',sans-serif}
:root{
  --accent1:#8570f2; /* base purple */
  --accent2:#c68bff; /* secondary */
  --neon: rgba(133,112,242,0.22);
  --glass: rgba(255,255,255,0.62);
  --bg:#fff7fb;
}

/* page bg */
body{
  background: linear-gradient(180deg,#fff7fb,#f7f4ff);
  min-height:100vh;color:#121212;
  -webkit-font-smoothing:antialiased;
}

/* NAVBAR */
.navbar{position:fixed;top:0;left:0;right:0;height:64px;background:rgba(255,255,255,0.92);backdrop-filter:blur(6px);display:flex;align-items:center;padding:0 18px;z-index:1200;box-shadow:0 6px 30px rgba(10,10,20,0.04)}
.menu-toggle{font-size:20px;border:none;background:none;cursor:pointer;margin-right:12px}
.brand .logo{font-weight:800;color:#111}
.right-meta{margin-left:auto;display:flex;align-items:center;gap:12px}
.nav-avatar{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid rgba(255,255,255,0.8);box-shadow:0 6px 18px rgba(133,112,242,0.12)}

/* XP box */
.level-box{display:flex;align-items:center;gap:12px}
#levelText{font-weight:700}
.xp-wrap{width:180px;height:10px;background:rgba(0,0,0,0.05);border-radius:10px;overflow:hidden}
.xp-bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent1),var(--accent2));box-shadow:0 6px 18px rgba(133,112,242,0.2);transition:width .6s cubic-bezier(.2,.9,.2,1)}
#xpText{font-weight:600;font-size:13px;color:#333}

/* SIDEBAR */
.sidebar{position:fixed;top:64px;left:0;width:220px;height:calc(100% - 64px);padding:18px;background:transparent;z-index:1100}
.sidebar a{display:block;color:#222;text-decoration:none;padding:10px;border-radius:8px;margin-bottom:6px;font-weight:600}
.sidebar a:hover{background:linear-gradient(90deg,rgba(133,112,242,0.08),rgba(198,139,255,0.06));transform:translateX(6px)}

/* CONTENT */
.content{margin-top:88px;margin-left:240px;padding:28px;max-width:1200px}
.section-block{margin-bottom:36px}
h2{font-size:22px;margin-bottom:18px;color:#161616}

/* generic controls row */
.controls-row{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:12px;align-items:center}

/* NEON button system (medium glow) */
.neon-btn{
  border:0;padding:10px 16px;border-radius:12px;font-weight:800;cursor:pointer;position:relative;
  transition:transform .14s ease,box-shadow .14s ease;
  box-shadow: 0 6px 20px rgba(133,112,242,0.08);
}
.neon-btn::after{
  content:'';position:absolute;inset:-2px;border-radius:14px;z-index:-1;opacity:0;transition:opacity .18s,transform .18s;
  background:linear-gradient(90deg,var(--accent1),var(--accent2));
  filter:blur(14px);transform:scale(.98);
}
.neon-btn.primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff}
.neon-btn.primary::after{opacity:0.42}
.neon-btn.secondary{background:rgba(255,255,255,0.95);color:var(--accent1);border:1px solid rgba(0,0,0,0.04)}
.neon-btn.ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);color:#333}
.neon-btn.large{padding:12px 20px;font-size:16px;border-radius:14px}
.neon-btn:hover{transform:translateY(-3px);box-shadow:0 14px 36px rgba(133,112,242,0.16)}
.neon-btn.primary:hover::after{opacity:0.6;transform:scale(1)}
.neon-btn:active{transform:translateY(-1px)}

/* profile */
.profile-grid{display:flex;gap:24px;align-items:center;flex-wrap:wrap}
.profile-left{flex:0 0 220px;text-align:center}
.avatar-wrap{display:flex;flex-direction:column;align-items:center;gap:12px}
.profile-img{width:140px;height:140px;border-radius:50%;object-fit:cover;background:linear-gradient(180deg,#fff,#f7f5ff);padding:10px;box-shadow:0 18px 50px rgba(133,112,242,0.12)}
.profile-right{flex:1}

/* info card */
.info-card{background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(250,248,255,0.98));padding:16px;border-radius:14px;box-shadow:0 10px 30px rgba(18,22,40,0.04)}
.info-row{display:flex;gap:12px;align-items:center;margin-bottom:10px}
.info-row label{width:110px;font-weight:700;color:#333}
.info-row input{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:transparent}

/* table */
.table{width:100%;border-collapse:collapse;background:transparent}
.table th,.table td{padding:14px;text-align:left;border-bottom:1px solid rgba(0,0,0,0.04);background:rgba(255,255,255,0.9)}
.editable-table th{font-weight:700;background:linear-gradient(180deg,#ffffff,#faf7ff)}
.editable-table td[contenteditable="true"]{cursor:text}

/* goals */
.goal-box{display:flex;gap:10px;align-items:center;margin-bottom:12px}
.goal-box input{flex:1;padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,0.06);background:transparent}
.goal-list{list-style:none;margin-top:6px}
.goal-list li{display:flex;justify-content:space-between;padding:12px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(250,248,255,0.95));margin-bottom:8px;box-shadow:0 10px 30px rgba(18,22,40,0.03)}
.goal-list button{border:none;background:transparent;cursor:pointer;font-weight:800}

/* skills */
.skills-list{display:flex;flex-direction:column;gap:12px}
.skill-item{display:flex;align-items:center;justify-content:space-between;padding:12px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(250,248,255,0.95));box-shadow:0 10px 30px rgba(18,22,40,0.03)}
.skill-left{display:flex;gap:12px;align-items:center;flex:1}
.skill-meta{min-width:140px}
.skill-name{font-weight:800}
.skill-percent{color:#555}
.skill-bar-wrap{flex:1}
.skill-bar{height:12px;background:rgba(0,0,0,0.06);border-radius:12px;overflow:hidden}
.skill-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--accent1),var(--accent2));box-shadow:0 8px 22px rgba(133,112,242,0.16);transition:width .8s cubic-bezier(.2,.9,.2,1)}

/* badge grid */
.badge-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:12px}
.badge{height:100px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(250,248,255,0.95));display:flex;align-items:center;justify-content:center;font-weight:700;color:#888;opacity:.95;border:1px solid rgba(0,0,0,0.03);position:relative;overflow:visible}
.badge.unlocked{color:#222;box-shadow:0 12px 40px rgba(133,112,242,0.12);transform:scale(1.04);border:1px solid rgba(255,200,70,0.12)}
.badge.locked{filter:grayscale(1) opacity(.86)}

/* charts */
.chart-grid{display:grid;grid-template-columns:1fr;gap:20px;align-items:center}
.chart-card{background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(250,248,255,0.95));padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(18,22,40,0.03);display:flex;justify-content:center;align-items:center}
.chart-card canvas{max-width:680px;width:100%;height:360px;}

/* pomodoro */
.pom-card{display:flex;gap:20px;align-items:center;flex-wrap:wrap}
.timer-card{background:linear-gradient(180deg,#fff,#f9f6ff);padding:22px;border-radius:12px;min-width:260px;text-align:center;box-shadow:0 12px 36px rgba(133,112,242,0.08)}
#timerDisplay{font-size:48px;font-weight:900}
.pom-controls{display:flex;flex-direction:column;gap:12px}
.pom-controls label{display:inline-flex;align-items:center;gap:8px}
.pom-controls input{width:72px;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)}
.pom-buttons{display:flex;gap:8px;flex-wrap:wrap}

/* modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(6,7,12,0.26);z-index:2000;padding:20px}
.modal.show{display:flex}
.modal-card{width:360px;max-width:94%;background:linear-gradient(180deg,#fff,#fff7fb);padding:18px;border-radius:14px;box-shadow:0 18px 60px rgba(13,24,50,0.12);text-align:center}
.modal-card.small{width:320px}
.modal-badge{display:flex;justify-content:center;margin-bottom:8px}
.modal-avatar-preview img{width:64px;height:64px;border-radius:50%;object-fit:cover;margin:8px auto;box-shadow:0 10px 30px rgba(133,112,242,0.12)}
.btn-primary{padding:10px 16px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;font-weight:800}
.btn-ghost{padding:10px 14px;border-radius:10px;border:none;background:transparent;color:var(--accent1);cursor:pointer}

/* confetti canvas */
#confettiCanvas{position:absolute;inset:0;width:100%;height:100%;pointer-events:none}

/* responsive */
@media(max-width:1000px){
  .content{margin-left:0;padding:18px}
  .sidebar{display:none}
  .chart-card canvas{height:280px}
  .profile-grid{flex-direction:column;align-items:center}
  .nav-avatar{display:none}
}

/* ---------- Metallic Game-Style Badges (C1) ---------- */
.badge {
  position: relative;
  height: 100px;
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(245,243,250,0.98));
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
  box-shadow: 0 10px 30px rgba(18,22,40,0.03);
  overflow: visible;
  transition: transform .28s cubic-bezier(.2,.9,.2,1), box-shadow .28s;
  cursor: default;
}
.badge .icon-wrap {
  width: 64px;
  height: 64px;
  display:flex;
  align-items:center;
  justify-content:center;
  filter: drop-shadow(0 6px 14px rgba(133,112,242,0.10)) saturate(110%);
  transform-origin: center;
}
.badge.locked {
  filter: grayscale(1) contrast(.95) opacity(.85);
}
.badge.unlocked {
  transform: translateY(-6px);
  box-shadow: 0 18px 50px rgba(133,112,242,0.18);
  border: 1px solid rgba(255,220,100,0.08);
}
.badge.unlocked .icon-wrap {
  filter: drop-shadow(0 10px 28px rgba(133,112,242,0.28));
  animation: badgePulse 1200ms ease forwards;
}
@keyframes badgePulse {
  0% { transform: scale(.92); }
  50% { transform: scale(1.06); }
  100% { transform: scale(1); }
}
.badge .label {
  position:absolute; bottom:8px; left:8px; right:8px; text-align:center;
  font-size:12px; color:#222; opacity:0.95; pointer-events:none;
}
.badge .tooltip {
  position: absolute;
  bottom: calc(100% + 12px);
  left: 50%;
  transform: translateX(-50%) translateY(6px);
  background: linear-gradient(180deg, #14121a, #27202f);
  color: #fff;
  padding: 10px 12px;
  border-radius: 10px;
  font-size: 13px;
  min-width: 180px;
  max-width: 320px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(6,6,20,0.45);
  opacity: 0; pointer-events: none;
  transition: opacity .22s ease, transform .22s cubic-bezier(.2,.9,.2,1);
  z-index: 60;
}
.badge .tooltip::after{
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%) rotate(45deg);
  bottom: -7px;
  width: 12px; height: 12px;
  background: linear-gradient(180deg, #14121a, #27202f);
  box-shadow: 0 6px 12px rgba(6,6,20,0.25);
}
.badge:hover .tooltip,
.badge:focus-within .tooltip {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
  pointer-events: auto;
}
.badge svg {
  width: 64px; height: 64px; display:block;
  filter: drop-shadow(0 4px 10px rgba(0,0,0,0.10));
}
.badge:focus { outline: 3px solid rgba(133,112,242,0.18); border-radius:12px; }
.badge .tooltip h4 { margin:0 0 6px 0; font-size:14px; font-weight:800; color:#fff; }
.badge .tooltip p { margin:0; font-size:13px; color: #dfdfe6; line-height:1.3; }
.badge-container { gap: 14px; align-items: start; }

/* ================= STREAK â€” Neon Flames (S2) ================= */
.streak-card { background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(245,243,250,0.98)); padding:16px; border-radius:12px; box-shadow:0 12px 40px rgba(133,112,242,0.06); }
.streak-info { display:flex; flex-direction:column; gap:12px; align-items:center; }
.streak-metrics { display:flex; gap:24px; align-items:center; }
.streak-num { font-size:28px; font-weight:900; color:var(--accent1); }
.streak-label { font-size:13px; color:#333; opacity:.9; }

.streak-days { display:flex; gap:10px; justify-content:center; margin-top:6px; }
.streak-cell { width:42px; height:60px; display:flex; flex-direction:column; align-items:center; justify-content:flex-end; position:relative; }
.streak-day { font-size:12px; color:#666; margin-bottom:6px; }
.streak-flame {
  width:34px; height:34px; border-radius:8px; background:linear-gradient(180deg,rgba(255,230,120,0.12), rgba(133,112,242,0.12));
  display:flex; align-items:center; justify-content:center; transition: transform .28s ease, box-shadow .28s ease, opacity .28s;
  filter: drop-shadow(0 6px 18px rgba(133,112,242,0.08));
}
.streak-flame svg { width:22px; height:22px; opacity:0.12; transition: opacity .3s, transform .3s; }

.streak-cell.active .streak-flame {
  background: radial-gradient(circle at 50% 30%, rgba(255,255,255,0.12), rgba(133,112,242,0.14));
  box-shadow: 0 12px 36px rgba(133,112,242,0.22), 0 0 20px rgba(198,139,255,0.15) inset;
  transform: translateY(-6px) scale(1.06);
}
.streak-cell.active .streak-flame svg { opacity:1; transform: translateY(-2px) scale(1.02); filter: drop-shadow(0 6px 18px rgba(133,112,242,0.22)); }

.streak-cell.inactive .streak-flame { opacity:0.38; transform: none; }
.streak-actions { display:flex; gap:10px; margin-top:10px; }
